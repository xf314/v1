const P=e=>typeof e=="object"&&e!=null&&e.nodeType===1,Q=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",z=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const d=getComputedStyle(e,null);return Q(d.overflowY,t)||Q(d.overflowX,t)||(i=>{const n=(r=>{if(!r.ownerDocument||!r.ownerDocument.defaultView)return null;try{return r.ownerDocument.defaultView.frameElement}catch{return null}})(i);return!!n&&(n.clientHeight<i.scrollHeight||n.clientWidth<i.scrollWidth)})(e)}return!1},S=(e,t,d,i,n,r,f,l)=>r<e&&f>t||r>e&&f<t?0:r<=e&&l<=d||f>=t&&l>=d?r-e-i:f>t&&l<d||r<e&&l>d?f-t+n:0,ee=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},U=(e,t)=>{var d,i,n,r;if(typeof document>"u")return[];const{scrollMode:f,block:l,inline:u,boundary:L,skipOverflowHiddenElements:Z}=t,_=typeof L=="function"?L:y=>y!==L;if(!P(e))throw new TypeError("Invalid target");const A=document.scrollingElement||document.documentElement,H=[];let s=e;for(;P(s)&&_(s);){if(s=ee(s),s===A){H.push(s);break}s!=null&&s===document.body&&z(s)&&!z(document.documentElement)||s!=null&&z(s,Z)&&H.push(s)}const g=(i=(d=window.visualViewport)==null?void 0:d.width)!=null?i:innerWidth,m=(r=(n=window.visualViewport)==null?void 0:n.height)!=null?r:innerHeight,{scrollX:b,scrollY:w}=window,{height:W,width:v,top:E,right:O,bottom:X,left:M}=e.getBoundingClientRect();let c=l==="start"||l==="nearest"?E:l==="end"?X:E+W/2,h=u==="center"?M+v/2:u==="end"?O:M;const Y=[];for(let y=0;y<H.length;y++){const o=H[y],{height:k,width:x,top:C,right:$,bottom:q,left:I}=o.getBoundingClientRect();if(f==="if-needed"&&E>=0&&M>=0&&X<=m&&O<=g&&E>=C&&X<=q&&M>=I&&O<=$)return Y;const N=getComputedStyle(o),R=parseInt(N.borderLeftWidth,10),T=parseInt(N.borderTopWidth,10),V=parseInt(N.borderRightWidth,10),j=parseInt(N.borderBottomWidth,10);let a=0,p=0;const B="offsetWidth"in o?o.offsetWidth-o.clientWidth-R-V:0,D="offsetHeight"in o?o.offsetHeight-o.clientHeight-T-j:0,F="offsetWidth"in o?o.offsetWidth===0?0:x/o.offsetWidth:0,G="offsetHeight"in o?o.offsetHeight===0?0:k/o.offsetHeight:0;if(A===o)a=l==="start"?c:l==="end"?c-m:l==="nearest"?S(w,w+m,m,T,j,w+c,w+c+W,W):c-m/2,p=u==="start"?h:u==="center"?h-g/2:u==="end"?h-g:S(b,b+g,g,R,V,b+h,b+h+v,v),a=Math.max(0,a+w),p=Math.max(0,p+b);else{a=l==="start"?c-C-T:l==="end"?c-q+j+D:l==="nearest"?S(C,q,k,T,j+D,c,c+W,W):c-(C+k/2)+D/2,p=u==="start"?h-I-R:u==="center"?h-(I+x/2)+B/2:u==="end"?h-$+V+B:S(I,$,x,R,V+B,h,h+v,v);const{scrollLeft:J,scrollTop:K}=o;a=Math.max(0,Math.min(K+a/G,o.scrollHeight-k/G+D)),p=Math.max(0,Math.min(J+p/F,o.scrollWidth-x/F+B)),c+=K-a,h+=J-p}Y.push({el:o,top:a,left:p})}return Y},te=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function oe(e,t){if(!e.isConnected||!(i=>{let n=i;for(;n&&n.parentNode;){if(n.parentNode===document)return!0;n=n.parentNode instanceof ShadowRoot?n.parentNode.host:n.parentNode}return!1})(e))return;if((i=>typeof i=="object"&&typeof i.behavior=="function")(t))return t.behavior(U(e,t));const d=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:i,top:n,left:r}of U(e,te(t)))i.scroll({top:n,left:r,behavior:d})}export{oe as t};
